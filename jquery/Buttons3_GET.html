
<!DOCTYPE html> 
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script type="text/javascript">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

	__gaTracker('create', 'UA-29190603-4', 'auto');
	__gaTracker('set', 'forceSSL', true);
	__gaTracker('require', 'displayfeatures');
	__gaTracker('send','pageview');

</script>
<title>Demo: jQuery Ajax Example with JSON Response</title>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" type="text/javascript"></script>

<script type="text/javascript">
$(document).ready(function(){
  $(':submit').on('click', function() { // This event fires when a button is clicked
    var button = $(this).val();
    $.ajax({ // ajax call starts
      url: 'serverside.php', // JQuery loads serverside.php
      data: 'button=' + $(this).val(), // Send value of the clicked button
      dataType: 'json', // Choosing a JSON datatype
    })
    .done(function(data) { // Variable data contains the data we get from serverside
      $('#wines').html(''); // Clear #wines div
				
      if (button == 'all') { // If clicked buttons value is all, we post every wine
        for (var i in data.red) {
          $('#wines').append('Red wine: ' + data.red[i] + '<br/>');
        }
        for (var i in data.white) {
          $('#wines').append('White wine: ' + data.white[i] + '<br/>');
        }
      }
      else if (button == 'red') { // If clicked buttons value is red, we post only red wines
        for (var i in data) {
          $('#wines').append('Red wine: ' + data[i] + '<br/>');
        }
      }
      else if (button == 'white') { // If clicked buttons value is white, we post only white wines
        for (var i in data) {
          $('#wines').append('White wine: ' + data[i] + '<br/>');
        }
      }
    });
    return false; // keeps the page from not refreshing 
  });
});
</script>

</head>

<body>
	<form method="post" action="">
		<button value="all" type="submit">Get All Wines!</button>
		<button value="red" type="submit">Get Red Wines!</button>
		<button value="white" type="submit">Get White Wines!</button>
	</form>
	
	<div id="wines">
	<!-- Javascript will print data in here -->
	</div>
	<br/>
	<a href="http://www.lennu.net/jquery-ajax-example-with-json-response/">Back to the post</a>
</body>
</html>
